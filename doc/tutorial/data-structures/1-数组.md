# 数组

数组是一种线性表数据结构。它用**一组连续的内存空间**，来存储一组具有相同数据类型的数据。

## 1. 线性表(Linear List)

线性表就是数据排成像一条线一样的结构。每个线性表上的数据最多只有前和后两个方向。链表，队列，栈也都是线性结构。

## 2.连续的存储空间和相同的数据类型

连续的存储空间和相同的数据类型的限制使得其可以**随机访问**。

但是缺点也很明显：比如在数组中删除或者插入一条数据，为了保证数据的连续性，需要做大量的搬移工作，使得操作变得很低效。

## 3. 数组是如何实现根据下标随机访问元素

<img src="../images/new-array.png" alt="img" style="zoom:50%;float:left;" />

计算机给数组a[10]分配了一块连续存储空间，其中内存块的首地址是base_address=1000.

同时，计算机会给每个内存单元分配一个地址，计算机通过地址来访问内存中的数据。

当计算机需要**随机访问**数组中的某个元素时，它会首先通过下面的寻址公式，计算出改元素存储的内存地址：

`a[i]_address = base_address + i * data_type-size `

数组支持随机访问，通过下标随机访问的时间复杂度是O(1)

### 4. 容器与数组

针对数组类型，很多语言提供了容器类，比如Java中的ArrayList CSharp中的List，其优点是可以将很多数组操作的细节封装起来，比如手动搬移数据，同时，还支持**动态扩容**。

**数组本身定义时，需要预先指定大小。**

数组具有`固定的容量`，我们需要在初始化时指定数组的大小。有时它会非常不方便并可能造成浪费。

因此，大多数编程语言都提供内置的`动态数组`，它仍然是一个随机存取的列表数据结构，但`大小是可变的`。例如，在 C++ 中的 `vector`，以及在 Java 中的 `ArrayList`。

### 5. 数组的下标为什么从0开始

**从数组存储的内存模型来看，"下标"最确切的定义应该是"偏移(offset)"。**

比如如果用a来表示数组的首地址，那么a[0]就是偏移为0的位置，也就是首地址。

a[k]就表示偏移为k个type_size的位置，所以`a[k]_address = base_address + k * type_size`

但是如果数组从1开始计数，计算公式就变为：`a[k]_address = base_address + (k - 1) * type_size`

对比来看，从数组1开始，对CPU来说就多了一次减法指令。

但也可能是历史原因，C语言的设计者使用了0做下标。

### 6. JavaScript 中的数组

